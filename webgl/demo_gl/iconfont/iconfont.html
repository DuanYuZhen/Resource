<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<link rel="stylesheet" type="text/css" href="iconfont.css">
</head>
<body>
	<div id="div"></div>
<!-- 	<i class="iconfont" id="cont">&#xe77d;</i>
    <div id="div" style="padding:0;margin:0">
        <canvas id="canvas" width="500" height="500" style="font-family: iconfont"></canvas>
    </div> -->
    <div id="can"></div>
</body>
</html>
<script type="text/javascript">
	window.onload = function(){


		let h2 = document.createElement("h2");
		let h3 = document.createElement("h2");
	    let div = document.getElementById("div");
	    h2.className = "mapicon";
	    h2.innerHTML = "&#61461;";//&#61461;&#57346;&#61456;&#57347
	    div.appendChild(h2);

	    h3.className = "mapicon";
	    h3.innerHTML = "&#57346;";//&#61461;&#57346;&#61456;&#57347
	    div.appendChild(h3);

	    let canvas = document.createElement("canvas");
	    let context = canvas.getContext("2d");
	    canvas.width = "500";
	    canvas.height = "500";
	    canvas.style="padding:0!important;margin:0!important";
	    context.globalAlpha = 1.0;
	    context.fillRect(0, 0, canvas.width, canvas.height);

	    let coordX = 0;
	    let coordY = 0;
	    let fontSize = 16;
	    let lineWidth = 4;
	    let x = coordX+lineWidth;
	    let y = coordY+lineWidth;
	    let rectWidth = fontSize+lineWidth*2,rectHeight = fontSize+lineWidth*2;
	    // 矩形背景
	    context.globalAlpha = 0.5;
	    context.fillStyle = "rgb(255,255,49)";
	    context.fillRect(0,0,rectWidth,rectHeight);



		setTimeout(function(){
			context.font = "400 normal "+fontSize+"px mapicon";
			context.textAlign = "left";
		    context.textBaseline = "top";
			// 描边
		    // context.globalAlpha = 1.0;
		    // context.lineWidth = lineWidth;
		    // context.strokeStyle = "rgb(255,255,255)";
		    // context.strokeText(h2.textContent,x,y);
			// 绘制iconfont
			context.globalAlpha = 1.0;
		    context.fillStyle = "rgb(219,60,49)";
		    context.fillText(h3.textContent,x,y);

		    context.fillStyle = "rgb(255,255,255)";
		    context.fillText(h2.textContent,x,y);
		    

		    let can = document.getElementById("can");
		    can.appendChild(canvas);
		},1000);


    // h2.onloadeddata = function(){
    // 	context.fillStyle = "rgb(219,60,49)";
	   //  // context.fillText(h2.textContent,100,100);
	   //  context.fillText(h2.innerText,100,100);

	   //  let can = document.getElementById("can");
	   //  can.appendChild(canvas);
    // };




 //    	console.log(document.readyState);
 //    window.onloadeddata = function () {
 //    	console.log(document.readyState);
	// 	  if (document.readyState == "complete") { 
	// 	          //do something
	// 	         context.fillStyle = "rgb(219,60,49)";
	// 		    // context.fillText(h2.textContent,100,100);
	// 		    context.fillText(h2.innerText,100,100);

	// 		    let can = document.getElementById("can");
	// 		    can.appendChild(canvas);
	// 	  }
	// };
 //        console.log(document.readyState);





	};
	
	    

    
</script>